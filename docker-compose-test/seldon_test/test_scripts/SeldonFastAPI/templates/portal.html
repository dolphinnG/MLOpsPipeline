{% extends "base.html" %}

{% block title %}Service Portal{% endblock %}

{% block content %}
<div class="tabs">
    <button class="tablinks" id="loadModelBtn">Load Model</button>
    <button class="tablinks" id="unloadModelBtn">Unload Model</button>
    <button class="tablinks" id="startExperimentBtn">Start Experiment</button>
    <button class="tablinks" id="stopExperimentBtn">Stop Experiment</button>
    <button class="tablinks" id="loadPipelineBtn">Load Pipeline</button>
    <button class="tablinks" id="unloadPipelineBtn">Unload Pipeline</button>
    <button class="tablinks" id="serverStatusBtn">Server Status</button>
    <button class="tablinks" id="modelStatusBtn">Model Status</button>
    <button class="tablinks" id="pipelineStatusBtn">Pipeline Status</button>
    <button class="tablinks" id="experimentStatusBtn">Experiment Status</button>
    <button class="tablinks" id="schedulerStatusBtn">Scheduler Status</button>
</div>
<div id="response"></div>
<div id="forms">
    <form id="loadModelForm" class="tabform" style="display:none;">
        <label for="modelName">Model Name:</label>
        <input type="text" id="modelName" name="model.meta.name">
        
        <label for="modelUri">Model URI:</label>
        <input type="text" id="modelUri" name="model.modelSpec.uri">
        
        <label for="requirements">Requirements:</label>
        <input type="text" id="requirements" name="model.modelSpec.requirements">
        
        <button type="submit">Submit</button>
    </form>
    <form id="unloadModelForm" class="tabform" style="display:none;">
        <label for="unloadModelName">Model Name:</label>
        <input type="text" id="unloadModelName" name="model.name">
        
        <!-- Removed model version field -->
        
        <button type="submit">Submit</button>
    </form>
    <form id="startExperimentForm" class="tabform" style="display:none;">
        <label for="experimentName">Experiment Name:</label>
        <input type="text" id="experimentName" name="experiment.name">
        
        <label for="defaultCandidate">Default Candidate:</label>
        <input type="text" id="defaultCandidate" name="experiment.default">
        
        <div id="candidates">
            <!-- Candidates will be added dynamically -->
        </div>
        <button type="button" onclick="addCandidate()">Add Candidate</button>
        
        <label for="resourceType">Resource Type:</label>
        <select id="resourceType" name="experiment.resourceType">
            <option value="MODEL">MODEL</option>
            <option value="PIPELINE">PIPELINE</option>
        </select>
        
        <button type="submit">Submit</button>
    </form>
    <form id="stopExperimentForm" class="tabform" style="display:none;">
        <label for="stopExperimentName">Experiment Name:</label>
        <input type="text" id="stopExperimentName" name="name">
        <button type="submit">Submit</button>
    </form>
    <form id="loadPipelineForm" class="tabform" style="display:none;">
        <label for="pipelineName">Pipeline Name:</label>
        <input type="text" id="pipelineName" name="pipeline.name">
        
        <div id="steps">
            <!-- Steps will be added dynamically -->
        </div>
        <button type="button" class="add-step" onclick="addStep()">Add Step</button>
        
        <div id="outputSteps">
            <label for="outputSteps">Output Steps:</label>
            <!-- Output steps will be added dynamically -->
        </div>
        <button type="button" class="add-output-step" onclick="addOutputStep()">Add Output Step</button>
        
        <button type="submit">Submit</button>
    </form>
    <form id="unloadPipelineForm" class="tabform" style="display:none;">
        <label for="unloadPipelineName">Pipeline Name:</label>
        <input type="text" id="unloadPipelineName" name="pipelineName">
        <button type="submit">Submit</button>
    </form>
</div>
{% endblock %}