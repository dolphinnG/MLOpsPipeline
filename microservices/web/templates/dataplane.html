{% extends "base.html" %}

{% block title %}DataPlane Portal{% endblock %}
{% block scripts %}
<script src="/static/dataplane.js"></script>
{% endblock %}
{% block content %}
<div class="tabs">
    <button class="tablinks" id="serverLiveBtn">Server Live</button>
    <button class="tablinks" id="serverReadyBtn">Server Ready</button>
    <button class="tablinks" id="serverMetadataBtn">Server Metadata</button>
    <button class="tablinks" id="modelReadyBtn">Model Ready</button>
    <button class="tablinks" id="modelMetadataBtn">Model Metadata</button>
    <button class="tablinks" id="modelInferBtn">Model Infer</button>
</div>
<div id="response"></div>
<div id="forms">
    <form id="modelReadyForm" class="tabform" style="display:none;">
        <label for="modelReadyName">Model Name:</label>
        <input type="text" id="modelReadyName" name="model.name">
        <p class="hint" style="color: red;"><i class="fas fa-exclamation-triangle"></i> Warning: This feature is currently buggy due to Seldon core poor documentation and non-deterministic behaviours.</p>
        <button type="submit">Submit</button>
    </form>
    <form id="modelMetadataForm" class="tabform" style="display:none;">
        <label for="modelMetadataName">Model Name:</label>
        <input type="text" id="modelMetadataName" name="model.name">
        <p class="hint" style="color: red;"><i class="fas fa-exclamation-triangle"></i> Warning: This feature is currently buggy due to Seldon core poor documentation and non-deterministic behaviours.</p>
        <button type="submit">Submit</button>
    </form>
    <form id="modelInferForm" class="tabform" style="display:none;">
        <label for="seldonModel">Seldon-Model header field:</label>
        <input type="text" id="seldonModel" name="seldon-model">
        <label for="modelInferData">Inference Data:</label>
        <textarea id="modelInferData" name="model.data" rows="20" cols="80" placeholder='{
  "model_name": "testpipeline",
  "id": "hehehehehehehehidpipeline",
  "inputs": [
    {
      "name": "INPUT0",
      "datatype": "INT32",
      "shape": [1,16],
      "contents": {
        "int_contents": [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]
      }
    },
    {
      "name": "INPUT1",
      "datatype": "INT32",
      "shape": [1,16],
      "contents": {
        "int_contents": [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]
      }
    }
  ]
}'></textarea>
        <button type="submit">Submit</button>
    </form>
</div>
{% endblock %}